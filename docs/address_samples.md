# 경매 물건 주소 샘플 분석

> 2026-02-13 — Step 1 조사 결과. address_parser 설계의 근거 자료.

## 1. AuctionCaseDetail 모델 구조

`AuctionCaseDetail.address`는 **단일 문자열**. 시도/시군구/동 별도 필드 없음.

관련 구조화 데이터:
- `property_objects[0].lot_number` — 지번 (예: "156")
- `property_objects[0].building_name` — 건물명 (예: "광화문플래티넘")
- `property_objects[0].building_detail` — 층/호 (예: "지1층비109호")
- `lot_number` — Level 1 호환 필드 (첫 번째 물건의 지번 복사)

원본 API 응답에는 `adongSdNm`(시도), `adongSggNm`(시군구), `adongEmdNm`(동), `rdnm`(도로명), `rdnmBldNo`(건물번호)가 있지만 모델에 저장하지 않음.

## 2. 수집된 주소 샘플

### 도로명 주소 형식 (detail API → userPrintSt)

| # | address | sido | sigungu | dong | 지번 | 도로명 | 건물번호 | 건물명 | 상세 |
|---|---------|------|---------|------|------|--------|---------|--------|------|
| 1 | 서울특별시 종로구 새문안로5가길 28 지1층비109호 (적선동,광화문플래티넘) | 서울특별시 | 종로구 | 적선동 | 156 | 새문안로5가길 | 28 | 광화문플래티넘 | 지1층비109호 |
| 2 | 서울특별시 종로구 새문안로5가길 28 지1층비110호 (적선동,광화문플래티넘) | 서울특별시 | 종로구 | 적선동 | 156 | 새문안로5가길 | 28 | 광화문플래티넘 | 지1층비110호 |
| 3 | 서울특별시 관악구 남현7길 51 6층602호 (남현동,한샘타운) | 서울특별시 | 관악구 | 남현동 | - | 남현7길 | 51 | 한샘타운 | 6층602호 |
| 4 | 서울특별시 관악구 남현6길 13 지1층비101호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 지1층비101호 |
| 5 | 서울특별시 관악구 남현6길 13 1층101호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 1층101호 |
| 6 | 서울특별시 관악구 남현6길 13 5층502호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 5층502호 |
| 7 | 서울특별시 관악구 남현6길 13 6층601호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 6층601호 |
| 8 | 서울특별시 관악구 남현6길 13 2층201호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 2층201호 |
| 9 | 서울특별시 관악구 남현6길 13 2층202호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 2층202호 |
| 10 | 서울특별시 관악구 남현6길 13 2층203호 (남현동,한샘빌라) | 서울특별시 | 관악구 | 남현동 | 1086-12 | 남현6길 | 13 | 한샘빌라 | 2층203호 |

### 지번 주소 형식 (list API → printSt)

| # | address | sido | sigungu | dong | 지번 | 건물명 | 비고 |
|---|---------|------|---------|------|------|--------|------|
| 11 | 서울 강남구 역삼동 123-4 [건물 5층] | 서울특별시 | 강남구 | 역삼동 | 123-4 | - | test fixture, "서울" 약칭 |
| 12 | 서울 서초구 서초동 456-7 다가구주택 | 서울특별시 | 서초구 | 서초동 | 456-7 | 다가구주택 | test fixture |

### 테스트 코드 내 하드코딩 주소

| # | address | 출처 |
|---|---------|------|
| 13 | 서울특별시 강남구 역삼동 123-4 | test_filter_engine.py |
| 14 | 서울특별시 강남구 역삼동 123-45 ○○아파트 | test_registry_pipeline.py |

## 3. 패턴 분석

### 도로명 주소 패턴 (detail API)
```
{시도} {시군구} {도로명} {건물번호} {층호상세} ({동},{건물명})
```
- 100% 괄호 `(동,건물명)` 포함
- 시도는 항상 정식명칭 ("서울특별시")
- 층/호 상세는 가변적: "지1층비109호", "6층602호", "1층101호"

### 지번 주소 패턴 (list API / test fixture)
```
{시도(약칭가능)} {시군구} {동} {지번} [{건물상세}]
```
- 시도 약칭 가능: "서울" (← "서울특별시")
- 건물 상세는 `[]`로 감싸기도 함
- 괄호 없음

## 4. 확인된 변형 패턴

- [x] 기본 도로명: "시도 시군구 도로명 건물번호 상세 (동,건물명)"
- [x] 기본 지번: "시도 시군구 동 지번"
- [x] 시도 약칭: "서울" = "서울특별시"
- [ ] 산번지: 미확인 (샘플 없음, 향후 대응 필요)
- [ ] 세종시: 미확인 (시군구 없는 구조)
- [ ] 제주 특별자치도: 미확인
- [ ] 시+구 구조 (수원시 영통구): 미확인
- [ ] 건물 동 상세 ("제101동"): 미확인 (층/호만 확인됨)

## 5. CODEF 파라미터 매핑 전략

### 도로명 주소 → CODEF 파라미터

| CODEF 파라미터 | 추출 소스 | 예시 |
|---------------|----------|------|
| sido | 주소 첫 번째 토큰 | "서울특별시" |
| sigungu | 주소 두 번째 토큰 | "종로구" |
| addr_dong | 괄호 내 첫 번째 요소 | "적선동" |
| addr_lot_number | property_objects[0].lot_number | "156" |
| addr_road_name | 주소에서 도로명 추출 | "새문안로5가길" |
| addr_building_number | 도로명 다음 숫자 | "28" |
| building_name | property_objects[0].building_name 또는 괄호 내 두 번째 요소 | "광화문플래티넘" |
| address | "{동} {건물명}" 조합 | "적선동 광화문플래티넘" |

### 지번 주소 → CODEF 파라미터

| CODEF 파라미터 | 추출 소스 | 예시 |
|---------------|----------|------|
| sido | 정규화 필요 ("서울" → "서울특별시") | "서울특별시" |
| sigungu | 주소 두 번째 토큰 | "강남구" |
| addr_dong | 주소 세 번째 토큰 (동/리/읍/면) | "역삼동" |
| addr_lot_number | 주소에서 지번 패턴 또는 property_objects | "123-4" |
| building_name | 지번 이후 텍스트 | "다가구주택" (있으면) |
| address | "{동} {지번}" 조합 | "역삼동 123-4" |

## 6. 설계 결론

- **Case B 확정**: address가 단일 문자열 → 정규식 파서 필요
- 도로명/지번 두 형식 모두 처리
- `property_objects`에서 `lot_number`, `building_name` 보충 활용
- 시도 약칭 정규화 테이블 필요
